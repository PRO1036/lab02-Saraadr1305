---
title: "Lab 02 - Plastic waste"
author: Sara Adraoui
date: 22/09/25
output: github_document
---

## Chargement des packages et des données

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read_csv("data/plastic-waste.csv")
```

Commençons par filtrer les données pour retirer le point représenté par Trinité et Tobago (TTO) qui est un outlier.

```{r filter-data, message=FALSE}
plastic_waste <- plastic_waste %>%
  filter(plastic_waste_per_cap < 3.5)
```


## Exercices

### Exercise 1

```{r}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap)) +
  geom_histogram() +
  facet_wrap(~ continent)

```

### Exercise 2


```{r}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap)) +
  geom_density()
```
```{r}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, colour = continent)) +
  geom_density() +
  labs(
    title = "Courbes de densité des déchets plastiques par habitant",
    x = "Déchets plastiques par habitant (kg/hab/an)",
    y = "Densité",
    colour = "Continent"
  ) 
```
```{r}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, fill = continent)) +
  geom_density(colour = NA) +
  labs(
    x = "plastic_waste_per_cap",
    y = "density",
    fill = "continent",
    title = NULL
  ) 
```
```{r}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap, fill = continent, colour = continent)) +
  geom_density(alpha = 0.4) +
  labs(
    x = "plastic_waste_per_cap",
    y = "density",
    fill = "continent",
    colour = "continent"
  )
```
Décrivez pourquoi le reglage de la couleur (color et fill) et le réglage de la transparence (alpha) ne se trouvent pas au même endroit ? L’un étant réglé dans aes et l’autre dans geom_density():

Car dans aes(), on met ce qui dépend des données comme par exemple la couleur qui change selon le continent. Toutefois, alpha est pareil pour tout le graphe donc on doit le mettre dans geom_density().


### Exercise 3

Boxplot:

```{r}
ggplot(plastic_waste, aes(x = continent, y = plastic_waste_per_cap)) +
  geom_boxplot(size = 0.5, outlier.size = 1) +
  labs(
    x = "continent",
    y = "plastic_waste_per_cap")
```

Violinplot:
```{r}
ggplot(plastic_waste, aes(x = continent, y = plastic_waste_per_cap)) +
  geom_violin() +
  labs(
    x = "continent",
    y = "plastic_waste_per_cap")
```
Qu’est ce que les violin plots permettent de voir sur les données que les boxplot ne permettent pas ?

Le boxplot fournit une représentation qui indique la médiane, la dispersion via les quartiles, ainsi que les valeurs atypiques.Le violin plot, lui, illustre la distribution des données grâce à une estimation de densité. Il rend visible la structure de la répartition, ce que le boxplot ne montre pas.

### Exercise 4

```{r}
ggplot(plastic_waste, aes(x = plastic_waste_per_cap,
                          y = mismanaged_plastic_waste_per_cap,
                          colour = continent)) +
  geom_point() +
  labs(
    x = "Plastic waste per capita (kg/day)",
    y = "Mismanaged plastic waste per capita (kg/day)",
    colour = "Continent")

```

Décrivez la relation.Voyez-vous une tendance ?

Une relation positive est observée. Plus un pays produit de déchets plastiques par habitant, plus la quantité de déchets non gérés par habitant augmente aussi.
Cependant, la tendance varie selon les continents. En effet, les pays riches produisent plus de déchets mais en gèrent mieux, alors que les autres pays les gèrent moins efficacement. 


### Exercise 5

```{r}
ggplot(plastic_waste, aes(x = total_pop, y = plastic_waste_per_cap, colour = continent)) +
  geom_point() +
  labs(
    x = "Total population",
    y = "Plastic waste per capita (kg/day)",
    colour = "Continent")
```

```{r}
ggplot(plastic_waste, aes(x = coastal_pop, y = plastic_waste_per_cap, colour = continent)) +
  geom_point() +
  labs(
    x = "Coastal population",
    y = "Plastic waste per capita (kg/day)",
    colour = "Continent"
  )
```

Visualisez la relation entre la quantité de déchets plastiques par habitant et le nombre total d’habitants, et dans un second graphe, la relation entre la quantité de déchets plastiques et le nombre total d’habitants vivant près d’une côte. Est-ce qu’il semble y avoir une relation plus forte pour l’une des paires de variables ?


Il n’y a pas de relation nette entre la population totale et la quantité de déchets plastiques par habitant : les pays très peuplés ne produisent pas forcément plus de déchets par personne.
Toutefois, la relation est un peu plus visible avec la population côtière : les pays ayant une population côtière élevée tendent à produire davantage de déchets plastiques par habitant.Donc, la relation est plus forte avec la population côtière qu’avec la population totale.

## Conclusion

```{r}
plastic_waste_coastal <- plastic_waste %>% 
  mutate(coastal_pop_prop = coastal_pop / total_pop) %>%
  filter(plastic_waste_per_cap < 3)
```

```{r}
ggplot(plastic_waste_coastal, aes(x = coastal_pop_prop, 
                                  y = plastic_waste_per_cap, 
                                  colour = continent)) +
  geom_point() +
  geom_smooth(method = "loess", colour = "black") +
  labs(
    x = "Proportion de la population côtière (Coastal / total population)",
    y = "Nombre de déchets plastiques par habitant",
    colour = "Continent")
```







